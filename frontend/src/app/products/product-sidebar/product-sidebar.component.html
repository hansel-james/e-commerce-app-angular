<div class="ml-10 not-lg:mr-10 w-64 border-2 hover:border-base-300 p-4 rounded-lg shadow-md bg-base-100
  transition-all duration-500">
  <h1 class="text-3xl not-lg:text-xl font-semibold mb-4 text-base-content">Filters</h1>

  <!-- Category Filter -->
  <label class="block text-lg font-medium text-base-content">Categories:</label>

  <!-- Dropdown Button -->
  <button 
    (click)="toggleCategoryDropdown()" 
    class="w-full border p-2 rounded-md bg-base-200 text-base-content focus:ring focus:ring-primary transition-all duration-200 text-left flex justify-between items-center"
  >
    {{ selectedCategories.length ? selectedCategories.join(', ') : 'Select Categories' }}
    <span [class.rotate-180]="showCategoryDropdown" class="transition-transform duration-300 text-primary">▼</span>
  </button>

  <!-- Checkboxes inside dropdown -->
  <div *ngIf="showCategoryDropdown" class="mt-2 border border-t-0 rounded-md shadow-lg bg-base-100 p-2">
    <div *ngFor="let cat of categories" class="flex items-center space-x-2 mt-2">
      <input
        type="checkbox"
        [checked]="selectedCategories.includes(cat)"
        (change)="onCategoryChange(cat, $event)"
        class="rounded text-primary focus:ring focus:ring-primary transition-all duration-200"
      />
      <span class="text-base-content">{{ cat }}</span>
    </div>
  </div>

  <!-- Limit Filter -->
  <label class="block text-lg font-medium text-base-content mt-4">Limit:</label>

  <!-- Limit Dropdown Button -->
  <button 
    (click)="toggleLimitDropdown()" 
    class="w-full border p-2 rounded-md bg-base-200 text-base-content focus:ring focus:ring-primary transition-all duration-200 text-left flex justify-between items-center"
  >
    {{ selectedLimit || 'Select' }}
    <span [class.rotate-180]="showLimitDropdown" class="transition-transform duration-300 text-primary">▼</span>
  </button>

  <!-- Limit Dropdown Options -->
  <div *ngIf="showLimitDropdown" class="mt-2 border border-t-0 rounded-md shadow-lg bg-base-100 p-2">
    <div 
      *ngFor="let lim of limits"
      (click)="onLimitSelect(lim)"
      class="p-2 hover:bg-primary hover:text-white active:bg-primary-700 active:text-white transition-all duration-200 cursor-pointer"
    >
      {{ lim }}
    </div>
  </div>
</div>