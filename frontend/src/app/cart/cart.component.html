<div class="container mx-auto p-4">
    <h1 class="text-3xl font-bold text-center mb-6">üõí Your Cart</h1>
    @if(isLoading) {
        <h1 class="text-3xl font-bold text-center mb-6">Loading cart...</h1>
    } @else {
        @if (cart && cart.items.length > 0) {
            <div class="grid gap-6 justify-center"
                style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));">
                @for (item of cart.items; track item.product._id) {
                    <div class="card w-full bg-base-100 shadow-xl hover:shadow-primary not-lg:shadow-primary transition-all duration-300 hover:scale-105">
                        <div class="card-body">
                            <h2 class="card-title font-bold">{{ item.product.name }}</h2>
                            <p>Price: ${{ item.product.price }}</p>
                            <p>Quantity: {{ item.quantity }}</p>
                            <div class="card-actions justify-end">
                                <button 
                                    class="btn btn-error text-white transition-all duration-300 hover:scale-110"
                                    (click)="removeFromCart(item.product._id)">
                                    Remove
                                </button>
                            </div>
                        </div>
                    </div>
                }
            </div>

            <div class="flex justify-center mt-8">
                <button 
                    class="btn btn-success btn-lg transition-all duration-300 hover:scale-110"
                    (click)="buyCart()">
                    Checkout (${{ cart.totalPrice }})
                </button>
            </div>
        } @else {
            <div class="text-center">
                <h2 class="text-xl font-semibold text-gray-600">Your cart is empty üõçÔ∏è</h2>
                <p class="text-gray-500">Start adding some products to your cart.</p>
                <button routerLink="/products" class="btn btn-primary mt-4">Browse Products</button>
            </div>
        }
    }
</div>
